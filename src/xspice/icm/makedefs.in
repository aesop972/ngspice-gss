# Edit this file to set global include paths, 
# compiler info and subdirs

# Directory sturcture
SHELL = @SHELL@
srcdir = @srcdir@
top_builddir = ../../..
top_srcdir = @top_srcdir@
subdir = src/xspice/icm
mkdir_p = @mkdir_p@
uname = $(shell uname)
                                                                                
# C compiler to use
CC = @CC@

# Spice header include path
INCLUDES = -I$(TOPDIR)$(top_srcdir)/src/include -I$(TOPDIR)$(top_builddir)

ISMINGW = $(shell uname | grep -c "MINGW32")
# CFLAGS to use here
ifeq ($(ISMINGW), 1)
  CFLAGS = @CFLAGS@ -DCM_WINDOWS 
else  
  CFLAGS = @CFLAGS@ -fPIC -DCM_LINUX
endif

# Path to the cmpp utility
CMPP = $(TOPDIR)$(top_builddir)/src/xspice/cmpp/cmpp

# Flags to use when linking shared library
ifeq "$(strip $(uname))" "Darwin"
LDFLAGS = -bundle -flat_namespace -undefined suppress
else
LDFLAGS = -shared
endif

# The codemodels to make
CMDIRS = spice2poly digital analog xtradev xtraevt

# Install instructions

# or use mkdir -p
#mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
mkinstalldirs = $(mkdir_p)

INSTALL = @INSTALL@
INSTALL_DATA = @INSTALL_DATA@

prefix = @prefix@
exec_prefix = @exec_prefix@
libdir = @libdir@

